get:
  summary: Получение прогнозируемых показов рекламы для заданных НМ
  description: |
    Этот метод предоставляет прогнозируемые показы рекламы для указанных НМ. Метод возвращает объект для каждой переданной НМ, кроме ситуаций, когда по НМ нет данных, для таких НМ объект в ответе отсутствует. Если метод получил только НМ, по которым нет данных, ответ будет null.
    
    ### Параметры:
    - `nm_id`: Массив идентификаторов НМ, для которых требуется получить данные. Каждый идентификатор может включать дополнительные исключения.
    - `budget`: (Необязательный) Бюджет рекламной кампании в рублях, который ограничивает максимально возможные показы в зависимости от стоимости CPM.
    
    ### Формат ответа:
    Возвращаемый результат содержит массив объектов, каждый из которых включает:
      - `nm`: Идентификатор НМ.
      - `graph`: Массив пар значений, описывающих CPM и процентное изменение показов относительно органики.
      - `recommended`: Рекомендованное значение CPM для максимизации показов. Если статус `ceiling`, значение будет равно CPM, при котором достигается потолок, иначе значение будет равно CPM, при котором достигается удвоение показов относительно органики.
      - `status`: Статус может содержать `ceiling` - устанавливается, если НМ имеет потолок прироста показов, `maximum` - устанавливается, если НМ и без рекламы имеет максимальные показы.

  parameters:
    - name: nm_id
      in: query
      description: >
        Список идентификаторов NM, разделенных запятыми. Каждый идентификатор может включать дополнительные исключения (пресеты),
        указанные после дефиса в квадратных скобках. Пример: "nm_id=123,456,789-[101112 131415]".
      required: true
      schema:
        type: string
        example: "590278,110375,162811-[200020117]"
    - name: budget
      in: query
      description: Бюджет для расчета кривых.
      schema:
        type: integer
        format: uint64

  responses:
    '200':
      description: Список объектов, представляющих точки кривой NM.
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '../components/schemas/GraphRespItem.yaml'
    400:
      description: Ошибка валидации запроса.
      content:
        text/plain:
          schema:
            type: string
            example: "nm_id param required"
    414:
      description: Слишком много идентификаторов NM в запросе.
      content:
        text/plain:
          schema:
            type: string
            example: "nm_id param contains too many NMs"
    500:
      description: Внутренняя ошибка сервера.
      content:
        text/plain:
          schema:
            type: string
            example: "GetProductsSeries failed"
